
<style>
    @media only screen and (max-width: 400px) {
        .ml-20 {
            margin-left: -20px !important;        
        }
        .ml-20-plus {
            margin-left: 20px !important;   
        }
    }
    @media only screen and (max-width: 768px) {
        .inner-wrapper-sticky {
            display: none;
        }
    }
    .dcart_alergy_message{
        background: rgba(246, 199, 55,.2);
        display: flex;
        align-items: center;
        /* justify-content: space-between; */
        padding: .5rem 1rem;
        -webkit-box-shadow: 1px 1px 5px 0 rgba(156, 156, 156, 0.2);
        box-shadow: 1px 1px 5px 0 rgba(156, 156, 156, 0.2);
    }
    .dcart_alergy_message p{
        color: #e9b207;
    }
    .dcart_alergy_message i{
        color: #e9b207
    }
    .dcart_alergy_message p a{
        color: #e9b207;
        text-decoration: none;
    }
    .dcart_alergy_message p a:hover{
        color: #e9b207;
        text-decoration: underline;
    }
    .dcart_timing{
        background: rgba(233, 233, 233, 20%);
        display: flex;
        align-items: center;    
        padding: .5rem 1rem;
        -webkit-box-shadow: 1px 1px 5px 0 rgba(156, 156, 156, 0.2);
        box-shadow: 1px 1px 5px 0 rgba(156, 156, 156, 0.2);
    }
    .dcart_timing .dcart_timing_p,
    .dcart_timing p{
        color: #939392;
        font-size: .8em;
        line-height: 1.4;
        text-align: left !important;
    }
    .dcart_timing i{
        color: #939392;
    }
    .order_type_wrapper{
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .order_type_wrapper li{
        text-align: left !important;
    }
    .order_type_wrapper li:last-child{
        text-align: right !important;
    }
    .order_type_change_btn{
        font-size: 11px;
        padding: 5px 10px;
        background: rgba(246, 199, 55,.2);
        color: #e9b207;
        border-radius: 25px;
    }
</style>

<section class="content">

    <div id="content_wrapper" class="wrapperz itemList">

        <div class="row">

            

            <aside id="catbar" class="cols col-3 sidebar addheight" style="float: left;">

                <div class="sticky-slidebar-left">

                    <span id="closecat" class="close-cat"><span class="icon-times-circle"></span></span>

                    <!-- <h3>Categories</h3> -->

                    <ul>

                        <li ng-repeat = "cate in categories" ng-show="cate.check" ng-click="gotoAnchor($index)" class="fontSet"><a href >
                            {{cate.RootCatName | capitalize}}
                        </a></li>

                    </ul>

                </div>

            </aside>

            <div class="cols col-6 body addheight">

                <div class="hidden-menu">

                    <ul>

                        <li><button id="show-cat" type="button" class="menubtn left">Categories</button></li>

                        <li><button id="show-cart" type="button" class="menubtn right">Cart ({{Products.length}})</button></li>

                    </ul>

                </div>

                <ul id="inline-popups" class="cd-accordion-menu animated">

                    

                    <li class="has-children cat-wrapper" ng-repeat = "cate in categories" ng-show="cate.check" id="anchor{{$index}}" >

                        <input type="checkbox" name ="group{{$index}}" id="group{{$index}}" checked >

                        <label for="group{{$index}}" class="fontSet">{{cate.RootCatName | capitalize}}</label>

                        <ul>

                            <li ng-repeat = "mi in menuItems | filter: {RootCatID: cate.RootCatID}" class="fontSet">

                                <div class="item-details" ng-if="mi.check">

                                    <span id="loadingCart" class="loading-cart"><i class="fa fa-spinner fa-spin fa-3x fa-fw"></i></span>

                                    <div class="row">

                                        <div class="col-one">

                                                <!-- (Vat {{mi.Online_Tax}}) {{mi.MenuItem_HaveModifier}} -->

                                            <strong>{{mi.MenuItem | capitalize}} </strong>

                                        </div>

                                        <div class="col-two">

                                            <h4 style="

                                                font-family: 'Hind Vadodara', sans-serif;

                                                font-size: 14px;

                                                " ng-if="mi.price"
                                                ng-class="{'ml-20': mi.originalPrice, 'ml-20-plus': !mi.originalPrice}">
                                                <span ng-if="mi.originalPrice" style="font-size: 13px;color:grey;text-decoration: line-through;">
                                                    {{restaurantObject.Currency}}{{mi.originalPrice | number:2}}
                                                </span>

                                                <span>
                                                    &nbsp;{{restaurantObject.Currency}}{{mi.price | number:2}}
                                                </span>
                                            </h4>  
                                            <h4 style="
                                            font-family: 'Hind Vadodara', sans-serif;
                                            font-size: 11px;
                                            font-style: italic;
                                            " ng-if="!mi.price">Choose Option</h4>

                                        </div>

                                        <div class="col-three">

                                            <a href><span class="icon-plus-square-o" style="color: rgb(23 185 134)" ng-click="AddToCart(mi);"></span></a>

                                        </div>

                                    </div>                                        

                                    <div class="des-row">

                                            <!-- ng-if="mi.MenuItem_Detail.length > 0" -->

                                        <p>{{mi.MenuItem_Detail | capitalize}} </p>

                                    </div>

                                </div>

                            </li>     

                        </ul>

                    </li>

                  </ul> <!-- cd-accordion-menu -->                    

            </div>

            <aside id="cartbar" class="cols col-3 cart-bar" style="float: right;">

                <div class="sticky-slidebar-right">

                <div class="message2">

                    <div class="dcart_alergy_message">
                        <!-- <div><i class="fa fa-info-circle" aria-hidden="true"></i></div> -->
                        <div style="padding-left: 1rem;">
                        <p><a class="inlinelink" ng-click="openAllergyPopup();"><i class="fa fa-info-circle" aria-hidden="true"></i> Click here if you or someone you're ordering for has a food allergy or intolerance</a></p></div>
                    </div>
                    <br>
                    <div ng-if="!isCustomOpeningTime">
                        <p ng-if="RestaurtantTime.openTime !== RestaurtantTime.closeTime">We're open today from {{RestaurtantTime.openTime}} - {{RestaurtantTime.closeTime}} </p>
                        <p ng-if="RestaurtantTime.openTime === RestaurtantTime.closeTime">We are closed today.</p>
                    </div>
                    <div class="dcart_timing" ng-if="isCustomOpeningTime">
                        <div><i class="fa fa-clock-o" aria-hidden="true"></i></div>
                        <div style="padding-left: 1rem;text-align: left;">
                            <p ng-if="!isTodayOpen();">We are closed today.</p>
                            <p style="font-weight: bold;" ng-if="!!isTodayOpen()">We're open today from</p>
                            <ng-container class="dcart_timing_p" ng-repeat="item in isTodayOpen(); track by $index">
                                <span ng-if="$index !== 0">,<br /></span>
                                {{ item.openTime }} - {{ item.closeTime }}
                            </ng-container>
                        </div>
                    </div>

                </div>

                <div id="cart-bar" class="sticky-slidebar-right-">

                    <span id="closecart" class="close-cart"><i class="fa fa-times-circle" aria-hidden="true"></i></span>
                    <!-- <a href class="alergies" ng-click="openAllergyPopup();">You or someone you're ordering for has a food allergy or intolerance, click here</a> -->

                    <div class="options two">
                        <ul class="order_type_wrapper">
                            <li style="color: #000;font-weight: 600;width: 100%;">
                                {{ getOrderType(); orderTypeData.name == 'TableOrder'? 'Dine-in table# ' + orderTypeData.table : orderTypeData.name }}
                                <!-- {{ orderTypeData.name?OrderType(orderTypeData.name):'' }} -->
                            </li>
                            <li ng-if="!(onlyDelivery || onlyCollection)">
                                <a class="inlinelink order_type_change_btn" ng-click="openTableOptions()">change</a>
                            </li>
                            <!-- <li><a class="inlinelink" style="font-size: 11px;" ng-click="openTableOptions()">change</a></li> -->

                            <!-- <li><input type="radio" id="order-type-one" name="order-type" ng-model="ordertype" value="Delivery" checked><label for="order-type-one" ng-click="OrderType('Delivery')" > Delivery </label></li> -->

                            <!-- <li><input type="radio" id="order-type-two" name="order-type" ng-model="ordertype" value="Collection"><label for="order-type-two" ng-click="OrderType('Collection')"> Collection</label></li>

                            <li><input type="radio" id="order-type-three" name="order-type" ng-model="ordertype" value="TableOrder"><label for="order-type-three" ng-click="OrderType('TableOrder')"> Table Order</label></li> -->

                        </ul>

                    </div>
                    

                    <div class="options">

                        <div id="mydivz"  class="fontSet" style="color:#535353; text-align:center; padding:5px; font-size:14px;margin-bottom: 10px;margin-top: 15px;">

                               <!-- asdasd {{minimumorderamountleft}} amount left to reach the minimum order amount -->

                               {{ orderTypeDiscountLabel(); }}

                        </div>

                        <div id="mydivz" class="fontSet" style="color:#535353; text-align:center; padding:5px; font-size:14px;margin-bottom: 0px;margin-top: 15px;" ng-show="isCartEmpty">

                            <!-- asdasd {{minimumorderamountleft}} amount left to reach the minimum order amount -->

                            Your cart is empty

                     </div>                        

                    </div>

                    <div class="cart-details">

                        <h3 ng-show="!isCartEmpty">Cart</h3>

                        <ul>

                            <li ng-repeat = "products in Products track by $index">

                                <div class="row">

                                    <div class="col remove" >

                                            <span class="icon-minus-square" ng-click="removeProduct(products);" ng-if="FilterSimpleProducts(products)"></span>

                                            <span class="icon-minus-square" ng-click="" style="color:white" ng-if="!FilterSimpleProducts(products)"></span>

                                            <input class="qty" type="text" value="{{products.quantity}}" min="1" readonly>

                                        <!-- <span class="icon-plus-square" ng-click="addqty(products);" ng-if="FilterSimpleProducts(products)"></span> -->

                                    </div>

                                    <div class="col items" >

                                        <span ng-if="FilterSimpleProducts(products)" class="fontSet">{{products.MenuItem | capitalize | limitTo : 25}}</span>

                                        <ul class="modifiers" ng-if="FilterModifierProducts(products)">

                                            <li class="modifierfont">
                                                <span>
                                                    {{products.MenuItem | capitalize | limitTo : 25}}
                                                </span>
                                            </li>

                                        </ul>

                                    </div>

                                    <div class="col price">

                                        <span class="fontSet"> {{restaurantObject.Currency}}{{products.price | number: 2}}</span>

                                    </div>

                                </div>

                            </li>

                            <li class="total-row">

                                <div class="row" ng-show="hideText && DeliveryCharges">                                        

                                    <div class="col items fontSet " >

                                        Delivery fee

                                    </div>

                                    <div class="col price fontSet ">

                                        {{restaurantObject.Currency}}{{DeliveryCharges | number:2}}

                                    </div>

                                </div>

                                <div class="row" ng-show="!isCartEmpty" ng-if="discountedPrice">                                        

                                    <div class="col items fontSet ">

                                        Sub Total

                                    </div>

                                    <div class="col price fontSet ">

                                        {{restaurantObject.Currency}}{{subTotalAmount | number:2}}

                                    </div>

                                </div>

                                <div class="row" ng-show="!isCartEmpty" ng-if="discountedPrice">                                        

                                    <div class="col items fontSet ">

                                        Discount

                                    </div>

                                    <div class="col price fontSet ">

                                        -{{restaurantObject.Currency}}{{discountedPrice | number:2}}

                                    </div>

                                </div>

                                <div class="row" ng-show="!isCartEmpty">                                        

                                    <div class="col items fontSet ">

                                        Total

                                    </div>

                                    <div class="col price fontSet ">

                                        {{restaurantObject.Currency}}{{TotalAmount | number:2}}

                                    </div>

                                </div>

                            </li>

                            <li class="g-total-row fontSet" ng-show="hideText" >

                                <div class="row" >                                        

                                    <div class="col items fontSet">

                                       <span>Minimum Order</span> 

                                    </div>

                                    <div class="col price fontSet">

                                        {{restaurantObject.Currency}}{{MinOrderAmount | number:2}}

                                    </div>

                                </div>

                            </li> 

                            

                        </ul>

                        <div class="clearfix"></div>

                        <a href class="checkout-cart" ng-click="openCart();" ng-disabled = "IsPreccedButtonDisable" ng-class="{'diabled-class': IsPreccedButtonDisable}" >Proceed</a>

                        <div class="clearfix"><br></div>

                    </div>

                </div>   

            </div>                       

            </aside>

        </div>

    </div>

</section>
<!-- table order pop up css -->
<style>
    .my-custom-input {
        width: 90%;
        margin-left: 5%;
        font-size: 40px;
        margin-bottom: 5%;
        border-radius: 10px;
    }
    .margin-left {
        margin-left: 5%;
        margin-bottom: 10%;
    }
    .text-label {
        background-color: #000;
        border-radius: 10px;
        color: #fff;
        padding: 12% 20% 12% 20%;
    }
    @media only screen and (max-width: 768px) {
        [class*="custom-col cols col-"] {
            width: 33.33% !important;
        }
        .my-custom-input {
            font-size: 27px;
        }
    }
</style>
<!-- table order pop up html -->
<div id="test-popup-table" class="white-popup mfp-with-anim mfp-hide selectionProductfont" ng-show="showSelectionModifierPopup">
    <h3>Please add your Table No.</h3>
    <input class="my-custom-input" name="tableNo" placeholder="Please enter your Table No."/>
    <p>
        <div class="row margin-left">
            <div class="custom-col cols col-4">
                <span class="text-label">1</span>
            </div>
            <div class="custom-col cols col-4">
                <span class="text-label">2</span>
            </div>
            <div class="custom-col cols col-4">
                <span class="text-label">3</span>
            </div>
        </div>

        <div class="row margin-left">
            <div class="custom-col cols col-4">
                <span class="text-label">4</span>
            </div>
            <div class="custom-col cols col-4">
                <span class="text-label">5</span>
            </div>
            <div class="custom-col cols col-4">
                <span class="text-label">6</span>
            </div>
        </div>

        <div class="row margin-left">
            <div class="custom-col cols col-4">
                <span class="text-label">7</span>
            </div>
            <div class="custom-col cols col-4">
                <span class="text-label">8</span>
            </div>
            <div class="custom-col cols col-4">
                <span class="text-label">9</span>
            </div>
        </div>

        <div class="row margin-left">
            <div class="custom-col cols col-4">
                <span class="text-label">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </span>
            </div>
            <div class="custom-col cols col-4">
                <span class="text-label">0</span>
            </div>
            <div class="custom-col cols col-4">
                <span class="text-label">
                    <i class="fa fa-check" aria-hidden="true"></i>
                </span>
            </div>
        </div>
    </p>
</div>

<!-- <div id="test-popup" class="white-popup mfp-with-anim mfp-hide">

    <h3>{{ModiferHeadName}}</h3>

    <p>{{ModiferProductDetails}}</p>

    <div class="modifiers" ng-repeat="selections in Selections">

        <h4>{{selections.Name}}</h4>

        <ul>

            <li ng-repeat= "modifiers in modifierProducts | filter: {SelectionID:selections.SelectionID}">

                <input id="option{{modifiers.Modifier_ID}}{{selections.SelectionID}}" name="option{{modifiers.Modifier_ID}}{{selections.SelectionID}}" type="radio">

                <label for="option{{modifiers.Modifier_ID}}{{selections.SelectionID}}" ng-click="AddSelectionProducts(selections,modifiers,modifiers.checked)" ng-model="modifiers.checked">{{modifiers.MenuItem_Name}} <span>{{restaurantObject.Currency}}{{modifiers.MenuItem_Price | number:2}}</span></label>

                <div class="plus-minus">

                    <span class="add-control"><span class="icon-minus-square" ng-click="RemoveSelectionAndModifierQuantity(modifiers)"></span></span>

                    <span class="add-control" ng-repeat="md in modifierProductsQty" ng-if="filterModifiersQuantity(modifiers,md)">{{md.quantity}}</span>                                

                    <span class="add-control"><span class="icon-plus-square" ng-click="AddSelectionProducts(selections,modifiers,modifiers.checked)"></span></span>

                </div>

            </li>

        </ul>

    </div>

    <div class="row btn-row">

        <div class="cols col-8">

            <button type="button" class="skip-btn">Skip</button>

            <button type="button" class="add-modifiers" ng-click="AddModifierProductIntoCart();UpdateAmount();">Add to Basket</button>

        </div>

        <div class="cols col-4 total">

            Total: {{restaurantObject.Currency}}{{TotalAmountModifierProduct | number:2}}

        </div>

    </div>

    <script src="accordion-menu/popup/jquery.magnific-popup.min.js"></script>

    <script src="accordion-menu/js/main.js"></script>

</div> -->







<div id="test-popup" class="white-popup mfp-with-anim mfp-hide selectionProductfont" ng-show="showSelectionModifierPopup">

    <h3>{{ModiferHeadName}}</h3>

    <p ng-if="ModiferProductDetails.length != 0">{{ModiferProductDetails}}</p>

    <div id="selected_items" class="selected selectionfont">

        <label ng-repeat = "md in DisplayModifiersArr"><span class='icon-checkmark'></span> {{md.MenuItem_Name}}</label>

    </div>



    <div id="selections_{{IndexCount+1}}" class="modifiers pan pan-1 selectionfont" ng-repeat="selections in Selections" ng-show="IndexCount == $index">

        <h4>{{selections.Name}}</h4>

        <ul>

            <li ng-repeat= "modifiers in modifierProducts | filter: {SelectionID:selections.SelectionID}" class="fontSet">

                <input id="option{{modifiers.Modifier_ID}}{{selections.SelectionID}}" class="Selec_option_one " name="option{{modifiers.Modifier_ID}}{{selections.SelectionID}}" type="checkbox" value="Extra Hot">

                <!-- {{modifiers.Online_Tax | number:2}}  -->

                <label for="option{{modifiers.Modifier_ID}}{{selections.SelectionID}}" ng-click="AddSelectionProducts(selections,modifiers,modifiers.checked)" ng-model="modifiers.checked" >{{modifiers.MenuItem_Name}}

                    <span>{{restaurantObject.Currency}}{{modifiers.MenuItem_Price | number:2}}</span></label>

            </li>

        </ul>

    </div>

    

    <div class="row btn-row" style="padding-top: 1.5em;">

        <div class="cols" style="width: 50%;">

            <button type="button" class="skip-btn" ng-click="skipSelection();" ng-show ="isButtonDisable">Skip</button>

        </div>

        <div class="cols total" style="width: 50%;">

            <button type="button" ng-show="!disableAddToBasket" class="add-modifiers" ng-click="AddModifierProductIntoCart();UpdateAmount();">Add to Basket</button>

        </div>

    </div>

    <!-- <div class="row btn-row" style="padding-top: 1.5em;">

        <div class="cols col-8">

            <button type="button" class="skip-btn" ng-click="skipSelection();" ng-show ="isButtonDisable">Skip</button>

            <button type="button" class="add-modifiers" ng-click="AddModifierProductIntoCart();UpdateAmount();">Add to Basket</button>

        </div>

        <div class="cols col-4 total">

            Total: {{restaurantObject.Currency}}{{TotalAmountModifierProduct | number:2}}

        </div>

    </div> -->

</div>







<script src="accordion-menu/popup/jquery.magnific-popup.min.js"></script>

<script src="accordion-menu/js/main.js"></script>







<script>

    //includeHTML();

</script>



<script>

    // $('.sticky-slidebar-right').css('z-index', '-1');

    $('.modifiers input').click(function() {

        var min_length = $(this).parents('.modifiers').attr("min-validate");

        var max_length = $(this).parents('.modifiers').attr("max-validate");

        alert(min_length + " " + max_length);

        

        // console.log(min_length,max_length)

        // console.log($(this).parents('.modifiers').find('input:checked').length)



            if ($(this).parents('.modifiers').find('input:checked').length >= max_length) {



                $(this).parents('.modifiers').find(':checkbox:not(:checked)').prop("disabled", true);

                $(this).parents('.modifiers').hide().next('.modifiers').show();



                $("#selected_items").html("");

                $('.modifiers input[type="checkbox"]').each(function(index, value) {

                    if (this.checked) {

                        //console.log(this.value)

                        $("#selected_items").append("<label><span class='icon-checkmark'></span> "+this.value+"</label>");

                    }

                });



            }

            else {

                $(this).parents('.modifiers').find(':checkbox').prop("disabled", false);

            }

        });             

        setTimeout(function(){ 

        var stickyslidebarleft = new StickySidebar('.sticky-slidebar-left', {

			topSpacing: 20,

			bottomSpacing: 40,

			containerSelector: '#content_wrapper',

            innerWrapperSelector: '.sidebar__inner',

            resizeSensor: true

        });

        

        var stickyslidebarright = new StickySidebar('.sticky-slidebar-right', {

			topSpacing: 20,

			bottomSpacing: 20,

			containerSelector: '#content_wrapper',

            innerWrapperSelector: '.sidebar__inner',

            resizeSensor: true

        });

        

    }, 2000);

    $(function() {

        $('.col-three').click(function() {

            alert('click');

            var stickyslidebarrightrebind = new StickySidebar('.sticky-slidebar-right', {

                topSpacing: 20,

                bottomSpacing: 20,

                containerSelector: '#content_wrapper',

                innerWrapperSelector: '.sidebar__inner'

            });

        });

    });      

</script>