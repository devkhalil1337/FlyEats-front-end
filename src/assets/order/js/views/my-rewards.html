<section class="content myaccount-page">
    <!-- {{ getLoyaltyRules(); }} -->
    <div class="hidden-menu">

        <ul>

            <li><button id="show-cat" type="button" class="menubtn left">Sidebar</button></li>

        </ul>

    </div>

    <div id="content_wrapper" class="wrapperz"  style="padding: 1.5em 0;margin-bottom: 2em;">

        <div class="row">

            <aside id="catbar" class="cols col-3 sidebar addheight">

            <div class="sticky">

                <span id="closecat" class="close-cat"><span class="icon-close"></span></span>

                <h3>My Stuff</h3>

                <ul>

                    <li><a href ng-click="getRecentOrders();">Orders</a></li>

                    <!-- <li><a href="past-orders.html">Past Orders</a></li> -->

                    <li><a href ng-click="ChangePage('myprofile');">Profile</a></li>
                    <li class="active"><a href ng-click="ChangePage('myrewards');">Rewards</a></li>

                    <li><a href ng-click="getMyAddresses();">Addresses</a></li>

                </ul>

            </div>

            </aside>

            <div class="cols col-9 content addheight">

                <div class="row sub-heading">

                    <div class="cols col-6">

                        <h3>Rewards</h3>

                    </div>

                    <!--<div class="cols col-6 btn-group text-right">

                        <a href class="extra-btns" ng-click="ChangePage('myprofile');">Edit Profile</a>

                         |

                        <a href  class="extra-btns" ng-click="getMyAddresses();">Addresses</a> 

                    </div>-->
                </div>

                <div class="row">
                    <div class="cols col-6">
                        <h4 style="color: #f37522">
                            Available Points: {{ availablePoints }}
                        </h4>
                    </div>
                </div>
                <!-- {{getRewardPoints()}} -->
                <div class="clearfix"><br></div>
                <div class="row reward-item" ng-repeat="rule in availableVouchers">
                    <div class="cols col-8">
                        <h3 class="p-0">{{ rule.Title }}</h3>
                        <p>{{ rule.VoucherType == 'Amount' ? '£' : '' }} {{ rule.VoucherValue }} {{ rule.VoucherType == 'Percentage' ? '%' : '' }} OFF </p>
                        <p>Voucher Code: {{ rule.VoucherCode }}</p>
                    </div>
                    <div class="cols col-4 text-right reward-btns">
                        <a href class="btn reward-btn green-btn" ng-if="!VoucherDiscount" ng-click="useVoucher(rule)">Use Now</span></a>
                        <!-- <a href class="btn reward-btn green-btn" ng-click="redeemNow(rule)">Redeem Now</span></a> -->
                        <!-- <a href class="btn reward-btn bordered-btn" onclick="copyToClipboard('this1')">Copy</span></a> -->
                    </div>
                </div>
                <div class="clearfix"><br></div>
                <div class="row reward-item" ng-repeat="rule in loyaltyRules">
                    <div class="cols col-8">
                        <h3 class="p-0">{{ rule.Title }}</h3>
                        <p>{{ rule.Valuetype == 'Amount' ? '£' : '' }} {{ rule.Value }} {{ rule.Valuetype == 'Percentage' ? '%' : '' }} OFF </p>
                        <p>Required Points: {{ rule.Poinsttoredeem }}</p>
                    </div>
                    <div class="cols col-4 text-right reward-btns">
                        <!-- <a href class="btn reward-btn green-btn" ng-click="">Use Now</span></a> -->
                        <a href class="btn reward-btn green-btn" ng-click="redeemNow(rule)">Redeem Now</span></a>
                        <!-- <a href class="btn reward-btn bordered-btn" onclick="copyToClipboard('this1')">Copy</span></a> -->
                    </div>
                </div>
                <!-- <div class="row reward-item">
                    <div class="cols col-8">
                        <h3 class="p-0">Available Points: 92</h3>
                        <p>10$ OFF </p>
                        <p>Code: 12312rd</p>
                    </div>
                    <div class="cols col-4 text-right reward-btns">
                        <a href class="btn reward-btn green-btn">Use Now</span></a>
                        <a href class="btn reward-btn bordered-btn" onclick="copyToClipboard('this2')">Copy</span></a>
                    </div>
                </div>
                <div class="row reward-item">
                    <div class="cols col-8">
                        <h3 class="p-0">Available Points: 92</h3>
                        <p>10$ OFF </p>
                        <p>Code: 12312rd</p>
                    </div>
                    <div class="cols col-4 text-right reward-btns">
                        <a href class="btn reward-btn green-btn">Use Now</span></a>
                        <a href class="btn reward-btn bordered-btn" onclick="copyToClipboard('this3')">Copy</span></a>
                    </div>
                </div>
                <div class="row reward-item">
                    <div class="cols col-8">
                        <h3 class="p-0">Available Points: 92</h3>
                        <p>10$ OFF </p>
                        <p>Code: 12312rd</p>
                    </div>
                    <div class="cols col-4 text-right reward-btns">
                        <a href class="btn reward-btn green-btn">Use Now</span></a>
                        <a href class="btn reward-btn bordered-btn" onclick="copyToClipboard('this4')">Copy</span></a>
                    </div>
                </div> -->
                <div class="clearfix"><br></div>
                

            </div>

        </div>

    </div>

</section>


<script>
    function copyToClipboard(text) {
        console.log(text);
        var dummy = document.createElement("textarea");
        // to avoid breaking orgain page when copying more words
        // cant copy when adding below this code
        // dummy.style.display = 'none'
        document.body.appendChild(dummy);
        //Be careful if you use texarea. setAttribute('value', value), which works with "input" does not work with "textarea". – Eduard
        dummy.value = text;
        dummy.select();
        document.execCommand("copy");
        document.body.removeChild(dummy);
        alert("copied " + dummy.value);
    }
</script>